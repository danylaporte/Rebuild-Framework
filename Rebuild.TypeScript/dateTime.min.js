var DayOfWeek,DateTime;(function(n){n._map=[],n._map[0]="sunday",n.sunday=0,n._map[1]="monday",n.monday=1,n._map[2]="tuesday",n.tuesday=2,n._map[3]="wednesday",n.wednesday=3,n._map[4]="thursday",n.thursday=4,n._map[5]="friday",n.friday=5,n._map[6]="saturday",n.saturday=6})(DayOfWeek||(DayOfWeek={})),DateTime=function(){function n(n){this.ms=n}return n.dayOfWeeks=[DayOfWeek.sunday,DayOfWeek.monday,DayOfWeek.tuesday,DayOfWeek.wednesday,DayOfWeek.thursday,DayOfWeek.friday,DayOfWeek.saturday],n.daysToMonth365=[0,31,59,90,120,151,181,212,243,273,304,334,365],n.daysToMonth366=[0,31,60,91,121,152,182,213,244,274,305,335,366],n.prototype.addDays=function(t){return new n(this.ms+t*864e5)},n.prototype.addHours=function(t){return new n(this.ms+t*36e5)},n.prototype.addMilliseconds=function(t){return new n(this.ms+t)},n.prototype.addMinutes=function(t){return new n(this.ms+t*6e4)},n.prototype.addMonths=function(t){var e;if(t<-12e4||t>12e4)throw new RangeException;var i=this.getDatePart(0),r=this.getDatePart(2),f=this.getDatePart(3),u=r-1+t;if(u>=0?(r=u%12+1,i+=u/12):(r=12+(u+1)%12,i+=(u-11)/12),i<1||i>9999)throw new RangeException;return e=n.daysInMonth(i,r),f>e&&(f=e),new n(n.dateToTicks(i,r,f)+this.ms%864e5)},n.prototype.addSeconds=function(t){return new n(this.ms+t*1e3)},n.prototype.addTimespan=function(t){return new n(this.ms+t.getTotalMilliseconds())},n.prototype.addYears=function(n){if(n<-1e4||n>1e4)throw new RangeException;return this.addMonths(n*12)},n.prototype.compareTo=function(n){var t=n.valueOf();return this.ms>t?1:this.ms<t?-1:0},n.dateToTicks=function(t,i,r){var f,u;if(t>=1&&t<=9999&&i>=1&&i<=12&&(f=n.isLeapYear(t)?n.daysToMonth366:n.daysToMonth365,r>=1&&r<=f[i]-f[i-1]))return u=t-1,(u*365+u/4-u/100+u/400+f[i-1]+r-1)*864e5;throw new RangeException;},n.daysInMonth=function(t,i){if(i<1||i>12)throw new RangeException;var r=n.isLeapYear(t)?n.daysToMonth366:n.daysToMonth365;return r[i]-r[i-1]},n.prototype.equals=function(n){return n.valueOf()==this.ms},n.formatNumber2=function(n){return n<10?"0"+n:n.toString()},n.fromDate=function(t,i,r,u,f,e,o){return new n(n.dateToTicks(t,i,r)+u*36e5+f*6e4+e*1e3+o)},n.fromNativeDate=function(t){return new n(t.valueOf()+621355968e5-t.getTimezoneOffset()*6e4)},n.prototype.getDate=function(){return new n(this.ms-Math.floor(this.ms%864e5))},n.prototype.getDatePart=function(t){var i=Math.floor(this.ms/864e5),s=Math.floor(i/146097),r,e,u,o,f;if(i-=s*146097,r=Math.floor(i/36524),r==4&&(r=3),i-=r*36524,e=Math.floor(i/1461),i-=e*1461,u=Math.floor(i/365),u==4&&(u=3),t==0)return s*400+r*100+e*4+u+1;if(i-=u*365,t==1)return i+1;for(o=u==3&&(e!=24||r==3)?n.daysToMonth366:n.daysToMonth365,f=i>>6;i>=o[f];)f++;return t==2?f:i-o[f-1]+1},n.prototype.getDay=function(){return this.getDatePart(3)},n.prototype.getDayOfWeek=function(){return n.dayOfWeeks[(this.ms/864e5+1)%7]},n.prototype.getDayOfYear=function(){return this.getDatePart(1)},n.prototype.getFirstDayOfMonth=function(){return n.fromDate(this.getYear(),this.getMonth(),1)},n.prototype.getFirstDayOfYear=function(){return n.fromDate(this.getYear(),1,1)},n.prototype.getHour=function(){return Math.floor(this.ms/36e5)%24},n.prototype.getLastDayOfMonth=function(){return this.getFirstDayOfMonth().addMonths(1).addDays(-1)},n.prototype.getLastDayOfYear=function(){return n.fromDate(this.getYear(),12,31)},n.prototype.getMillisecond=function(){return Math.floor(this.ms/1e3)},n.prototype.getMinute=function(){return Math.floor(this.ms/6e4)%60},n.prototype.getMonth=function(){return this.getDatePart(2)},n.prototype.getNextDay=function(n){var t=Math.floor(this.getDayOfWeek()-n);return this.addDays(t>=0?7-t:-t)},n.getNow=function(){return n.fromNativeDate(new Date)},n.prototype.getPeviousDay=function(n){var t=Math.floor(n-this.getDayOfWeek());return this.addDays(t>=0?t-7:t)},n.prototype.getSecond=function(){return Math.floor(this.ms/1e3)%60},n.prototype.getYear=function(){return this.getDatePart(0)},n.isLeapYear=function(n){if(n<1||n>9999)throw new RangeException;return n%4==0&&(n%100!=0||n%400==0)},n.prototype.toString=function(){var t=n.formatNumber2(this.getMonth()),i=n.formatNumber2(this.getDay()),r=n.formatNumber2(this.getHour()),u=n.formatNumber2(this.getMinute()),f=n.formatNumber2(this.getSecond());return this.getYear()+"/"+t+"/"+i+" "+r+":"+u+":"+f},n.prototype.valueOf=function(){return this.ms},n}()